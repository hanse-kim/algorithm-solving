# ìŠ¤íƒ - í›„ìœ„ í‘œê¸°ì‹ [ðŸ”—](https://www.acmicpc.net/problem/1918)

## ë¬¸ì œ

ìˆ˜ì‹ì€ ì¼ë°˜ì ìœ¼ë¡œ 3ê°€ì§€ í‘œê¸°ë²•ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìžˆë‹¤. ì—°ì‚°ìžê°€ í”¼ì—°ì‚°ìž ê°€ìš´ë° ìœ„ì¹˜í•˜ëŠ” ì¤‘ìœ„ í‘œê¸°ë²•(ì¼ë°˜ì ìœ¼ë¡œ ìš°ë¦¬ê°€ ì“°ëŠ” ë°©ë²•ì´ë‹¤), ì—°ì‚°ìžê°€ í”¼ì—°ì‚°ìž ì•žì— ìœ„ì¹˜í•˜ëŠ” ì „ìœ„ í‘œê¸°ë²•(prefix notation), ì—°ì‚°ìžê°€ í”¼ì—°ì‚°ìž ë’¤ì— ìœ„ì¹˜í•˜ëŠ” í›„ìœ„ í‘œê¸°ë²•(postfix notation)ì´ ê·¸ê²ƒì´ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì¤‘ìœ„ í‘œê¸°ë²•ìœ¼ë¡œ í‘œí˜„ëœ a+bëŠ” ì „ìœ„ í‘œê¸°ë²•ìœ¼ë¡œëŠ” +abì´ê³ , í›„ìœ„ í‘œê¸°ë²•ìœ¼ë¡œëŠ” ab+ê°€ ëœë‹¤.

ì´ ë¬¸ì œì—ì„œ ìš°ë¦¬ê°€ ë‹¤ë£° í‘œê¸°ë²•ì€ í›„ìœ„ í‘œê¸°ë²•ì´ë‹¤. í›„ìœ„ í‘œê¸°ë²•ì€ ìœ„ì—ì„œ ë§í•œ ë²•ê³¼ ê°™ì´ ì—°ì‚°ìžê°€ í”¼ì—°ì‚°ìž ë’¤ì— ìœ„ì¹˜í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì´ ë°©ë²•ì˜ ìž¥ì ì€ ë‹¤ìŒê³¼ ê°™ë‹¤. ìš°ë¦¬ê°€ í”ížˆ ì“°ëŠ” ì¤‘ìœ„ í‘œê¸°ì‹ ê°™ì€ ê²½ìš°ì—ëŠ” ë§ì…ˆê³¼ ê³±ì…ˆì˜ ìš°ì„ ìˆœìœ„ì— ì°¨ì´ê°€ ìžˆì–´ ì™¼ìª½ë¶€í„° ì°¨ë¡€ë¡œ ê³„ì‚°í•  ìˆ˜ ì—†ì§€ë§Œ í›„ìœ„ í‘œê¸°ì‹ì„ ì‚¬ìš©í•˜ë©´ ìˆœì„œë¥¼ ì ì ˆížˆ ì¡°ì ˆí•˜ì—¬ ìˆœì„œë¥¼ ì •í•´ì¤„ ìˆ˜ ìžˆë‹¤. ë˜í•œ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê´„í˜¸ ë“±ë„ í•„ìš” ì—†ê²Œ ëœë‹¤. ì˜ˆë¥¼ ë“¤ì–´ a+b*cë¥¼ í›„ìœ„ í‘œê¸°ì‹ìœ¼ë¡œ ë°”ê¾¸ë©´ abc*+ê°€ ëœë‹¤.

ì¤‘ìœ„ í‘œê¸°ì‹ì„ í›„ìœ„ í‘œê¸°ì‹ìœ¼ë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ì„ ê°„ë‹¨ížˆ ì„¤ëª…í•˜ë©´ ì´ë ‡ë‹¤. ìš°ì„  ì£¼ì–´ì§„ ì¤‘ìœ„ í‘œê¸°ì‹ì„ ì—°ì‚°ìžì˜ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ê´„í˜¸ë¡œ ë¬¶ì–´ì¤€ë‹¤. ê·¸ëŸ° ë‹¤ìŒì— ê´„í˜¸ ì•ˆì˜ ì—°ì‚°ìžë¥¼ ê´„í˜¸ì˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì˜®ê²¨ì£¼ë©´ ëœë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ a+b*cëŠ” (a+(b*c))ì˜ ì‹ê³¼ ê°™ê²Œ ëœë‹¤. ê·¸ ë‹¤ìŒì— ì•ˆì— ìžˆëŠ” ê´„í˜¸ì˜ ì—°ì‚°ìž *ë¥¼ ê´„í˜¸ ë°–ìœ¼ë¡œ êº¼ë‚´ê²Œ ë˜ë©´ (a+bc*)ê°€ ëœë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ ë˜ +ë¥¼ ê´„í˜¸ì˜ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê³ ì¹˜ë©´ abc*+ê°€ ë˜ê²Œ ëœë‹¤.

ë‹¤ë¥¸ ì˜ˆë¥¼ ë“¤ì–´ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ A+B*C-D/Eë¥¼ ì™„ì „í•˜ê²Œ ê´„í˜¸ë¡œ ë¬¶ê³  ì—°ì‚°ìžë¥¼ ì´ë™ì‹œí‚¬ ìž¥ì†Œë¥¼ í‘œì‹œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ëœë‹¤.

![img](https://www.acmicpc.net/JudgeOnline/upload/201007/4.png)

ì´ëŸ¬í•œ ì‚¬ì‹¤ì„ ì•Œê³  ì¤‘ìœ„ í‘œê¸°ì‹ì´ ì£¼ì–´ì¡Œì„ ë•Œ í›„ìœ„ í‘œê¸°ì‹ìœ¼ë¡œ ê³ ì¹˜ëŠ” í”„ë¡œê·¸ëž¨ì„ ìž‘ì„±í•˜ì‹œì˜¤

## ìž…ë ¥

ì²«ì§¸ ì¤„ì— ì¤‘ìœ„ í‘œê¸°ì‹ì´ ì£¼ì–´ì§„ë‹¤. ë‹¨ ì´ ìˆ˜ì‹ì˜ í”¼ì—°ì‚°ìžëŠ” A~Zì˜ ë¬¸ìžë¡œ ì´ë£¨ì–´ì§€ë©° ìˆ˜ì‹ì—ì„œ í•œ ë²ˆì”©ë§Œ ë“±ìž¥í•œë‹¤. ê·¸ë¦¬ê³  -A+Bì™€ ê°™ì´ -ê°€ ê°€ìž¥ ì•žì— ì˜¤ê±°ë‚˜ ABì™€ ê°™ì´ *ê°€ ìƒëžµë˜ëŠ” ë“±ì˜ ìˆ˜ì‹ì€ ì£¼ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. í‘œê¸°ì‹ì€ ì•ŒíŒŒë²³ ëŒ€ë¬¸ìžì™€ +, -, *, /, (, )ë¡œë§Œ ì´ë£¨ì–´ì ¸ ìžˆìœ¼ë©°, ê¸¸ì´ëŠ” 100ì„ ë„˜ì§€ ì•ŠëŠ”ë‹¤. 

## ì¶œë ¥

ì²«ì§¸ ì¤„ì— í›„ìœ„ í‘œê¸°ì‹ìœ¼ë¡œ ë°”ë€ ì‹ì„ ì¶œë ¥í•˜ì‹œì˜¤

##### ìž…ì¶œë ¥ ì˜ˆ

| ìž…ë ¥    | ì¶œë ¥  |
| ------- | ----- |
| A*(B+C) | ABC+* |

## í’€ì´

ì¤‘ìœ„ í‘œê¸°ì‹ì„ í›„ìœ„ í‘œê¸°ì‹ìœ¼ë¡œ ë°”ê¾¸ëŠ” ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- ìˆ˜ì‹ ìŠ¤íƒê³¼ ì—°ì‚°ìž ìŠ¤íƒì„ ì¤€ë¹„í•œë‹¤.
- ìž…ë ¥ë°›ì€ ì¤‘ìœ„ í‘œê¸°ì‹ì„ í•œ ê¸€ìžì”© ìˆœíšŒí•˜ë©° ë‹¤ìŒì„ ìˆ˜í–‰í•œë‹¤.
  - ì—°ì‚°ìžê°€ ì•„ë‹ ê²½ìš°: ìˆ˜ì‹ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤.
  - '('ì¼ ê²½ìš°: ì—°ì‚°ìž ìŠ¤íƒì— ì¶”ê°€í•œë‹¤.
  - ')'ì¼ ê²½ìš°: ì—°ì‚°ìž ìŠ¤íƒì—ì„œ '('ê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ popí•˜ì—¬ ìˆ˜ì‹ ìŠ¤íƒì— ì¶”ê°€í•œë‹¤. ì´í›„ '('ë¥¼ ì œê±°í•œë‹¤.
  - ì´ì™¸ì˜ ì—°ì‚°ìžì¼ ê²½ìš°: ì—°ì‚°ìž ìŠ¤íƒì—ì„œ í˜„ìž¬ ì—°ì‚°ìžë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ê±°ë‚˜ ê°™ì€ ì—°ì‚°ìžë¥¼ ëª¨ë‘ popí•˜ì—¬ ìˆ˜ì‹ ìŠ¤íƒì— ì¶”ê°€í•˜ê³ , ì´í›„ í˜„ìž¬ ì—°ì‚°ìžë¥¼ ì—°ì‚°ìž ìŠ¤íƒì— ì¶”ê°€í•œë‹¤.
- ìš°ì„ ìˆœìœ„ëŠ” ë‹¹ì—°ížˆ '*', '/'ê°€ '+', '-'ë³´ë‹¤ ë†’ë‹¤. 
- ê´„í˜¸ëŠ” popë‹¹í•˜ì§€ ì•Šë„ë¡ '+', '-'ë³´ë‹¤ ë‚®ì€ ìš°ì„ ìˆœìœ„ë¥¼ ë¶€ì—¬í•œë‹¤.

```python
op_weight = {
    '(': 0,
    ')': 0,
    '+': 1,
    '-': 1,
    '*': 2,
    '/': 2
}

exp = input()
stack_exp = []
stack_op = []

for c in exp:
    if c not in op_weight:
        stack_exp.append(c)
    elif c == '(':
        stack_op.append(c)
    elif c == ')':
        while stack_op and stack_op[-1] != '(':
            stack_exp.append(stack_op.pop())
        stack_op.pop()
    else:
        while stack_op and (op_weight[stack_op[-1]] >= op_weight[c]):
            stack_exp.append(stack_op.pop())
        stack_op.append(c)

while (stack_op):
    stack_exp.append(stack_op.pop())

print(''.join(stack_exp))
```

