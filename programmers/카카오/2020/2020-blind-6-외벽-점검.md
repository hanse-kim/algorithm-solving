## 2020 ì¹´ì¹´ì˜¤ ë¸”ë¼ì¸ë“œ ì±„ìš© - ì™¸ë²½ ì ê²€ [ğŸ”—](https://programmers.co.kr/learn/courses/30/lessons/60062)

 ### í’€ì´

* ê° ì·¨ì•½ì ì— ëŒ€í•´, í•´ë‹¹ ì·¨ì•½ì ì—ì„œ ì¶œë°œí•˜ì˜€ì„ ë•Œ ê°€ì¥ ë§ì€ ì·¨ì•½ì ì„ ì ê²€í•  ìˆ˜ ìˆê³ , ì ê²€í•  ìˆ˜ ìˆëŠ” ì·¨ì•½ì  ìˆ˜ê°€ ë™ì¼í•˜ë‹¤ë©´ ê°€ì¥ ì´ë™ê±°ë¦¬ê°€ ì§§ì€ ì¹œêµ¬ë¥¼ êµ¬í•œë‹¤.
* í•´ë‹¹ ì¹œêµ¬ë¥¼ ëª©ë¡ì—ì„œ ì œê±°í•˜ê³  ì ê²€í•œ ì·¨ì•½ì ë“¤ë„ ì œê±°í•œë‹¤.
* ì´ë¥¼ ë°˜ë³µí•˜ë‹¤ê°€, ì·¨ì•½ì ì´ 0ì´ë©´ `ì „ì²´ ì¹œêµ¬ ìˆ˜ - í˜„ì¬ ì¹œêµ¬ ìˆ˜`ë¥¼, ì¹œêµ¬ê°€ 0ì´ë©´ `-1`ì„ ê²°ê³¼ê°’ìœ¼ë¡œ ì €ì¥í•œë‹¤.
* ê° ì·¨ì•½ì ì„ ì‹œì‘ì ìœ¼ë¡œ í•˜ëŠ” caseë“¤ì„ ë§Œë“¤ê³ , ê° caseë³„ë¡œ ìœ„ ë‚´ìš©ì„ ìˆ˜í–‰í•œë‹¤.
* ëª¨ë“  caseì˜ ê²°ê³¼ê°’ì„ ëª¨ì•„ì„œ -1ì´ ì•„ë‹Œ ê°€ì¥ ì‘ì€ ê°’ ë˜ëŠ” -1ì„ returní•œë‹¤.

```python
import collections

def solution(n, weak, dist):
    cases = []
    for i in range(len(weak)):
        weaks = collections.deque(weak)
        weaks.rotate(-i)
        cases.append({
            "friends": list(dist),
            "weaks": weaks,
            "result": 0
        })
    
    # ëª¨ë“  ì·¨ì•½ì ì„ ìµœëŒ€ 2ë²ˆ ìˆœíšŒí•˜ë¯€ë¡œ, ì·¨ì•½ì  ëª©ë¡ì„ 2ë°°ë¡œ ëŠ˜ë¦°ë‹¤
    # (ê°’ì„ ë³€ê²½í•˜ì§€ ì•Šê³  ì½ê¸°ë§Œ í•˜ë¯€ë¡œ ê³±ì—°ì‚°ìœ¼ë¡œ ëŠ˜ë¦°ë‹¤)
    weak_extend = weak * 2
    total_friend = len(dist)
    results = []
    for w in weak_extend:
        for case in cases:
            if not case["result"] and case["weaks"][0] == w:
                explore(case, n, total_friend)
                if case["result"]:
                    results.append(case["result"])
    results.sort()
    for result in results:
        if result != -1:
            return result
    return -1
            
def explore(case, n, total_friend):
    explored = set()
    explore_result = collections.defaultdict(list)
    max_checkable_weak = 0
    for dist in case["friends"]:
        if dist in explored:
            continue
        checkable = 0
        weaks = case["weaks"]
        index = weaks[0]
        moved = 0
        while moved <= dist:
            if index in weaks:
                checkable += 1
            index = index + 1 if index < n - 1 else 0
            moved += 1
        
        explore_result[checkable].append(dist)
        max_checkable_weak = max(max_checkable_weak, checkable)
        
    check_friend = sorted(explore_result[max_checkable_weak])[0]
    case["friends"].remove(check_friend)
    for _ in range(max_checkable_weak):
        case["weaks"].popleft()
    
    if not case["weaks"]:
        case["result"] = total_friend - len(case["friends"])
    elif not case["friends"]:
        case["result"] = -1
```
