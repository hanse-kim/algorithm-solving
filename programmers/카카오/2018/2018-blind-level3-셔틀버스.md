## 2018 카카오 블라인드 채용 - 셔틀버스 [🔗](https://programmers.co.kr/learn/courses/30/lessons/17678)

카카오에서는 무료 셔틀버스를 운행하기 때문에 판교역에서 편하게 사무실로 올 수 있다. 카카오의 직원은 서로를 '크루'라고 부르는데, 아침마다 많은 크루들이 이 셔틀을 이용하여 출근한다.

이 문제에서는 편의를 위해 셔틀은 다음과 같은 규칙으로 운행한다고 가정하자.

- 셔틀은 `09:00`부터 총 `n`회 `t`분 간격으로 역에 도착하며, 하나의 셔틀에는 최대 `m`명의 승객이 탈 수 있다.
- 셔틀은 도착했을 때 도착한 순간에 대기열에 선 크루까지 포함해서 대기 순서대로 태우고 바로 출발한다. 예를 들어 `09:00`에 도착한 셔틀은 자리가 있다면 `09:00`에 줄을 선 크루도 탈 수 있다.

일찍 나와서 셔틀을 기다리는 것이 귀찮았던 콘은, 일주일간의 집요한 관찰 끝에 어떤 크루가 몇 시에 셔틀 대기열에 도착하는지 알아냈다. 콘이 셔틀을 타고 사무실로 갈 수 있는 도착 시각 중 제일 늦은 시각을 구하여라.

단, 콘은 게으르기 때문에 같은 시각에 도착한 크루 중 대기열에서 제일 뒤에 선다. 또한, 모든 크루는 잠을 자야 하므로 `23:59`에 집에 돌아간다. 따라서 어떤 크루도 다음날 셔틀을 타는 일은 없다.

### 입력 형식

셔틀 운행 횟수 `n`, 셔틀 운행 간격 `t`, 한 셔틀에 탈 수 있는 최대 크루 수 `m`, 크루가 대기열에 도착하는 시각을 모은 배열 `timetable`이 입력으로 주어진다.

- 0 ＜ `n` ≦ 10
- 0 ＜ `t` ≦ 60
- 0 ＜ `m` ≦ 45
- `timetable`은 최소 길이 1이고 최대 길이 2000인 배열로, 하루 동안 크루가 대기열에 도착하는 시각이 `HH:MM` 형식으로 이루어져 있다.
- 크루의 도착 시각 `HH:MM`은 `00:01`에서 `23:59` 사이이다.

### 출력 형식

콘이 무사히 셔틀을 타고 사무실로 갈 수 있는 제일 늦은 도착 시각을 출력한다. 도착 시각은 `HH:MM` 형식이며, `00:00`에서 `23:59` 사이의 값이 될 수 있다.

### 입출력 예제

| n    | t    | m    | timetable                                                    | answer  |
| ---- | ---- | ---- | ------------------------------------------------------------ | ------- |
| 1    | 1    | 5    | ["08:00", "08:01", "08:02", "08:03"]                         | "09:00" |
| 2    | 10   | 2    | ["09:10", "09:09", "08:00"]                                  | "09:09" |
| 2    | 1    | 2    | ["09:00", "09:00", "09:00", "09:00"]                         | "08:59" |
| 1    | 1    | 5    | ["00:01", "00:01", "00:01", "00:01", "00:01"]                | "00:00" |
| 1    | 1    | 1    | ["23:59"]                                                    | "09:00" |
| 10   | 60   | 45   | ["23:59","23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59", "23:59"] | "18:00" |

---

 ### 풀이

문제를 이해하는 데부터 조금 애를 먹었다.

1. 버스는 09:00에 첫차가 나오고, 이후 t분 간격으로 n회 정거장에 도착한다.
2. 정거장에 도착했을 때 대기줄에서 탑승 가능한 인원 m명까지 태우고 출발한다.
3. 버스 도착 시간에 정거장에 도착한 인원도 자리가 있다면 탑승한다.

풀이는 주석으로 대체한다.

```python
def timeToMin(time):
    tmp = time.split(':')
    return int(tmp[0]) * 60 + int(tmp[1])

def minToTime(min):
    return f'{min // 60:02d}:{min % 60:02d}'

def solution(n, t, m, timetable):
    startBus = timeToMin('09:00')
    busList = [startBus + i * t for i in range(n)]

    # HH:MM 형식의 문자열을 분으로 환산하여 정수형으로 만들고 정렬한다
    # List의 pop을 이용해 선입선출이 되도록 역순으로 정렬한다
    # (일찍 도착한 인원일수록 끝에 위치해서 pop하면 먼저 나온다)
   	# 마지막 버스 이후에 도착하는 인원은 거른다 (고려할 필요가 없다)
    crewList = sorted([timeToMin(t)
                       for t in timetable 
                       if timeToMin(t) <= busList[-1]], reverse=True)
    result = ''
    lastRide = 0
    ridable = False

    # 버스가 도착하면
    for bus in busList:
        rideCount = 0
        # 탑승 가능한 인원까지 버스가 오기 전에 대기중이던 인원을 pop한다
        # 그리고 마지막으로 탑승한 인원의 도착시간을 저장해둔다
        while crewList and crewList[-1] <= bus and rideCount < m:
            lastRide = crewList.pop()
            rideCount += 1
        
        # 다 태운 후 버스에 남은 자리가 있는지 체크한다
        ridable = rideCount < m

    # 버스 자리가 남는다면
    # 그만큼 버스 자리가 충분하므로 마지막 버스가 도착하는 시간에 오면 된다
    if ridable:
        result = minToTime(busList[-1])
    # 남지 않는다면
    # 콘은 같은 시간에 도착해도 맨 뒤에 줄을 서므로
    # 마지막으로 탑승했던 인원보다 1분 일찍 와야 한다
    else:
        result = minToTime(lastRide - 1)
    
    return result
```

